<?xml version="1.0" encoding="utf-8"?>

<odoo>
	<data>	

<!-- Quotation Lines -->

 		<record id="sh_sol_sale_quotation_line_form_view_inherit" model="ir.ui.view">
			<field name="name">Quotation Line Form</field>
			<field name="model">sale.order.line</field>
			<field name="arch" type="xml">			
				<form>
					<sheet>					
						<group>
							<group>
								<field name="order_id" string="Order"/>
								<field name="product_id"/>
								<field name="product_uom"/>
								<field name="product_uom_qty" string="Ordered Qty"/>								
								<field name="tax_id" widget="many2many_tags"/>
								<field name="price_subtotal"/>							
							</group>
							<group>
								<field name="order_partner_id"/>
								<field name="name"/>
								<field name="price_unit"/>
								<field name="discount"/>							
							</group>
						</group>						
					</sheet>
				</form>				
			</field>
		</record>
		
 		<record id="sh_sol_sale_quotation_line_tree_view_inherit" model="ir.ui.view">
			<field name="name">Quotation Line Tree</field>
			<field name="model">sale.order.line</field>
			<field name="arch" type="xml">			
				<tree>
					<field name="order_id" string="Order"/>
					<field name="order_partner_id"/>
					<field name="product_id"/>
					<field name="name"/>
					<field name="product_uom"/>
					<field name="product_uom_qty" string="Ordered Qty"/>
					<field name="price_unit"/>
					<field name="tax_id" widget="many2many_tags"/>
					<field name="discount"/>
					<field name="price_subtotal"/>
				</tree>				
			</field>
		</record>
		
        <record id="sh_sol_sale_quotation_line_kanban_view_inherit" model="ir.ui.view">
            <field name="name">Quotation Line Kanban</field>
            <field name="model">sale.order.line</field>
            <field name="arch" type="xml">
                <kanban default_group_by="order_partner_id">
                    <field name="product_id"/>
                    <field name="product_uom_qty" string="Qty"/>
                    <field name="order_id" string="Order"/>
                    <field name="order_partner_id"/>
                	<templates>	                	
	                    <t t-name="kanban-box">
	                        <div t-attf-class="oe_kanban_card oe_kanban_global_click">
    	                        <div class="o_kanban_details">
			                		<strong>Order : <field name="order_id"/> </strong>
			                		<br/>
			   	        			Customer : <field name="order_partner_id" string="product_id :"/>
			  	        			<br/>
			   	        			Product : <field name="product_id"/>
			  	        			<br/>
			   	        			Qty : <field name="product_uom_qty"/>
		   	        			</div>
		                	</div>
	                    </t>
                    </templates>
				</kanban>            
            </field>
		</record>            
		
        <record id="sh_sol_sale_quotation_line_search_view_inherit" model="ir.ui.view">
            <field name="name">Quotation Line Search</field>
            <field name="model">sale.order.line</field>
            <field name="arch" type="xml">
                <search string="Search Quotation Order Line">
                    <field name="order_partner_id" filter_domain="['|','|',('order_partner_id','ilike',self),('order_id','ilike',self),('product_id','ilike',self)]"/>
                    <field name="order_id" string="Order"/>
                    <field name="product_id"/>
                    <field name="so_order_date"/>
                    <separator/>
                    
            		<filter string="Order Date" name="filter_order_date" date="so_order_date"/>
                                
                    <group expand="0" string="Group By">
                        <filter name="group_by_order_partner_id" domain="[]" string="Customer" context="{'group_by':'order_partner_id'}"/>
                        <filter name="group_by_order_id" domain="[]" string="Order" context="{'group_by':'order_id'}"/>
                        <filter name="group_by_product_id" domain="[]" string="Product" context="{'group_by':'product_id'}"/>
                    </group>
                </search>
            </field>
        </record>
		
		<record id="sh_action_sale_quotation_lines" model="ir.actions.act_window">
			<field name="name">Quotation Line</field>
			<field name="res_model">sale.order.line</field>
			<field name="type">ir.actions.act_window</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,kanban</field> 
            <field name="domain">[('state','=','draft')]</field>
            <field name="view_id" ref="sh_sol_sale_quotation_line_tree_view_inherit"/>
		</record>

<!-- Sale Order Lines -->

 		<record id="sh_sol_sale_order_line_form_view_inherit" model="ir.ui.view">
			<field name="name">Sale Order Line Form</field>
			<field name="model">sale.order.line</field>
			<field name="arch" type="xml">							
				<form>
					<sheet>					
						<group>
							<group>
								<field name="order_id" string="Order"/>
								<field name="product_id"/>
								<field name="product_uom"/>
								<field name="product_uom_qty" string="Ordered Qty"/>								
								<field name="qty_delivered"/>
								<field name="tax_id" widget="many2many_tags"/>
								<field name="price_subtotal"/>							
							</group>
							<group>
								<field name="order_partner_id"/>
								<field name="name"/>
								<field name="qty_invoiced"/>
								<field name="price_unit"/>
								<field name="discount"/>							
							</group>
						</group>						
					</sheet>
				</form>				
			</field>
		</record>
		
 		<record id="sh_sol_sale_order_line_tree_view_inherit" model="ir.ui.view">
			<field name="name">Sale Order Line Tree</field>
			<field name="model">sale.order.line</field>
			<field name="arch" type="xml">			
				<tree>
					<field name="order_id" string="Order"/>
					<field name="order_partner_id"/>
					<field name="product_id"/>
					<field name="name"/>
					<field name="product_uom"/>
					<field name="product_uom_qty" string="Ordered Qty"/>
					<field name="qty_delivered"/>
					<field name="qty_invoiced"/>
					<field name="price_unit"/>
					<field name="tax_id" widget="many2many_tags"/>
					<field name="discount"/>
					<field name="price_subtotal"/>							
				</tree>				
			</field>
		</record>

        <record id="sh_sol_sale_order_line_kanban_view_inherit" model="ir.ui.view">
            <field name="name">Sale Order Line Kanban</field>
            <field name="model">sale.order.line</field>
            <field name="arch" type="xml">
                <kanban default_group_by="order_partner_id">
                    <field name="product_id"/>
                    <field name="product_uom_qty" string="Qty"/>
                    <field name="order_id" string="Order"/>
                    <field name="order_partner_id"/>
                    <field name="so_order_date"/>
                	<templates>	                	
	                    <t t-name="kanban-box">
		                	<div class="o_kanban_details">
		                		<strong>Order : <field name="order_id"/> </strong>
		                		<br/>
		   	        			Customer : <field name="order_partner_id" string="product_id :"/>
		  	        			<br/>
		   	        			Product : <field name="product_id"/>
		  	        			<br/>
		   	        			Qty : <field name="product_uom_qty"/>
		                	</div>
	                    </t>
                    </templates>
				</kanban>            
            </field>
		</record>            

        <record id="sh_sol_sale_order_line_search_view_inherit" model="ir.ui.view">
            <field name="name">Sale Order Line Search</field>
            <field name="model">sale.order.line</field>
            <field name="arch" type="xml">
                <search string="Search Sales Order Line">
                    <field name="order_partner_id" filter_domain="['|','|',('order_partner_id','ilike',self),('order_id','ilike',self),('product_id','ilike',self)]"/>
                    <field name="order_id" string="Order"/>
                    <field name="product_id"/>
                    <field name="so_order_date"/>
                    <separator/>
                    
            		<filter string="Order Date" name="filter_order_date" date="so_order_date"/>
                                
                    <group expand="0" string="Group By">
                        <filter name="group_by_order_partner_id" domain="[]" string="Customer" context="{'group_by':'order_partner_id'}"/>
                        <filter name="group_by_order_id" domain="[]" string="Order" context="{'group_by':'order_id'}"/>
                        <filter name="group_by_product_id" domain="[]" string="Product" context="{'group_by':'product_id'}"/>
                    </group>
                </search>
            </field>
        </record>

		<record id="sh_action_sale_order_lines" model="ir.actions.act_window">
			<field name="name">Sale Order Line</field>
			<field name="res_model">sale.order.line</field>
			<field name="type">ir.actions.act_window</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,kanban</field>
            <field name="domain">[('state','in',('sale','done'))]</field>
            <field name="view_id" ref="sh_sol_sale_order_line_tree_view_inherit"/>
		</record>
				
	</data>
	
 	<menuitem id="sh_sol_quotation_line" name="Quotation Lines" action="sh_action_sale_quotation_lines" 
		groups="sales_team.group_sale_manager" parent="sale.sale_order_menu"/>

 	<menuitem id="sh_sol_order_line" name="Order Lines" action="sh_action_sale_order_lines" 
		groups="sales_team.group_sale_manager" parent="sale.sale_order_menu"/>
			 
</odoo>
